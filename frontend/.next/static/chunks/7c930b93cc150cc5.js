(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,43531,e=>{"use strict";let a=(0,e.i(75254).default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["Check",()=>a],43531)},69638,e=>{"use strict";let a=(0,e.i(75254).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>a],69638)},31278,e=>{"use strict";let a=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>a],31278)},63059,e=>{"use strict";let a=(0,e.i(75254).default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);e.s(["ChevronRight",()=>a],63059)},42129,69570,e=>{"use strict";var a=e.i(43476),s=e.i(932),t=e.i(71645),r=e.i(22016),i=e.i(57688),l=e.i(75157),n=e.i(9666),c=e.i(37727),d=e.i(31278),o=e.i(69638),m=e.i(9165);let x={first_name:"",last_name:"",phone_number:"",email:"",national_id:"",town_of_residence:"",sacco_id:"",payment_timeline_id:"",customer_notes:""};function u({isOpen:e,onClose:s,product:r,variationId:i}){let[n,u]=(0,t.useState)(x),[p,h]=(0,t.useState)([]),[g,y]=(0,t.useState)([]),[f,b]=(0,t.useState)(!1),[j,N]=(0,t.useState)(!1),[v,_]=(0,t.useState)(!1),[w,k]=(0,t.useState)(null);(0,t.useEffect)(()=>{e&&(b(!0),Promise.all([m.default.get("/financing/saccos/"),m.default.get("/financing/payment-timelines/")]).then(([e,a])=>{h(e.data.results||e.data),y(a.data.results||a.data)}).catch(e=>{console.error("Error fetching data:",e),k("Failed to load financing options")}).finally(()=>b(!1)))},[e]),(0,t.useEffect)(()=>{e||(u(x),_(!1),k(null))},[e]);let C=e=>{let{name:a,value:s}=e.target;u(e=>({...e,[a]:s})),k(null)},S=async e=>{e.preventDefault(),N(!0),k(null);try{await m.default.post("/financing/financing-requests/",{product:r.id,variation:i||null,sacco:parseInt(n.sacco_id),payment_timeline:parseInt(n.payment_timeline_id),first_name:n.first_name,last_name:n.last_name,phone_number:n.phone_number,email:n.email,national_id:n.national_id,town_of_residence:n.town_of_residence,customer_notes:n.customer_notes}),_(!0)}catch(e){k(e.response?.data?.detail||"Failed to submit request. Please try again.")}finally{N(!1)}};return e?(0,a.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-black/50",onClick:s}),(0,a.jsxs)("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-lg max-h-[90vh] overflow-hidden",children:[(0,a.jsxs)("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex items-center justify-between",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:v?"Request Submitted!":"Select Financing"}),(0,a.jsx)("button",{onClick:s,className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:(0,a.jsx)(c.X,{className:"w-5 h-5"})})]}),(0,a.jsx)("div",{className:"overflow-y-auto max-h-[calc(90vh-80px)]",children:f?(0,a.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,a.jsx)(d.Loader2,{className:"w-8 h-8 text-primary-600 animate-spin"})}):v?(0,a.jsxs)("div",{className:"p-6 text-center",children:[(0,a.jsx)(o.CheckCircle,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Thank You!"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"We have received your information and we'll get back to you as soon as possible."}),(0,a.jsx)("button",{onClick:s,className:"px-6 py-3 bg-primary-600 text-white rounded-lg font-medium hover:bg-primary-700 transition-colors",children:"Close"})]}):(0,a.jsxs)("form",{onSubmit:S,className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,a.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:"Selected Product"}),(0,a.jsx)("p",{className:"font-medium text-gray-900",children:r.name}),(0,a.jsx)("p",{className:"text-primary-600 font-semibold",children:(0,l.formatPrice)(r.current_price)})]}),w&&(0,a.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:w}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900",children:"Personal Information"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name *"}),(0,a.jsx)("input",{type:"text",name:"first_name",value:n.first_name,onChange:C,required:!0,className:"w-full px-4 py-2.5 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name *"}),(0,a.jsx)("input",{type:"text",name:"last_name",value:n.last_name,onChange:C,required:!0,className:"w-full px-4 py-2.5 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number *"}),(0,a.jsx)("input",{type:"tel",name:"phone_number",value:n.phone_number,onChange:C,placeholder:"e.g., 0712345678",required:!0,className:"w-full px-4 py-2.5 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),(0,a.jsx)("input",{type:"email",name:"email",value:n.email,onChange:C,required:!0,className:"w-full px-4 py-2.5 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"National ID Number *"}),(0,a.jsx)("input",{type:"text",name:"national_id",value:n.national_id,onChange:C,required:!0,className:"w-full px-4 py-2.5 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Town of Residence *"}),(0,a.jsx)("input",{type:"text",name:"town_of_residence",value:n.town_of_residence,onChange:C,placeholder:"e.g., Nairobi, Mombasa, Kisumu",required:!0,className:"w-full px-4 py-2.5 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900",children:"Financing Options"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sacco of Your Choice *"}),(0,a.jsxs)("select",{name:"sacco_id",value:n.sacco_id,onChange:C,required:!0,className:"w-full px-4 py-2.5 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[(0,a.jsx)("option",{value:"",children:"Select a Sacco"}),p.map(e=>(0,a.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Preferred Payment Timeline *"}),(0,a.jsxs)("select",{name:"payment_timeline_id",value:n.payment_timeline_id,onChange:C,required:!0,className:"w-full px-4 py-2.5 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[(0,a.jsx)("option",{value:"",children:"Select timeline"}),g.map(e=>(0,a.jsx)("option",{value:e.id,children:e.label},e.id))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Additional Notes (Optional)"}),(0,a.jsx)("textarea",{name:"customer_notes",value:n.customer_notes,onChange:C,rows:3,className:"w-full px-4 py-2.5 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none",placeholder:"Any additional information..."})]})]}),(0,a.jsx)("button",{type:"submit",disabled:j,className:(0,l.cn)("w-full py-3 rounded-lg font-medium text-white transition-all",j?"bg-gray-400 cursor-not-allowed":"bg-primary-600 hover:bg-primary-700"),children:j?(0,a.jsxs)("span",{className:"flex items-center justify-center",children:[(0,a.jsx)(d.Loader2,{className:"w-5 h-5 mr-2 animate-spin"}),"Submitting..."]}):"Submit Financing Request"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 text-center",children:"By submitting, you agree to our Terms of Service and Privacy Policy. Your information will be shared with the selected Sacco for processing."})]})})]})]}):null}function p(e){let c,d,o,m,x,p,g,y,f,b,j,N,v,_,w,k,C,S,P,q,$,O,F=(0,s.c)(86),{product:A}=e,{addToCart:z}=(0,n.useCartStore)();F[0]===Symbol.for("react.memo_cache_sentinel")?(c={},F[0]=c):c=F[0];let[M,R]=(0,t.useState)(c),[T,I]=(0,t.useState)(!1),[L,E]=(0,t.useState)(!1),[B,U]=(0,t.useState)(!1);if(F[1]!==z||F[2]!==A.category_name||F[3]!==A.discount_percentage||F[4]!==A.id||F[5]!==A.main_image||F[6]!==A.name||F[7]!==A.slug||F[8]!==A.variations_summary||F[9]!==M){let e,s,t,n,c,u,f,b=A.variations_summary||{};F[17]!==z||F[18]!==A.id?(e=async()=>{let e;E(!0),(await z(A.id,e,1)).success&&(U(!0),setTimeout(()=>U(!1),3e3)),E(!1)},F[17]=z,F[18]=A.id,F[19]=e):e=F[19],d=e,g="group bg-white rounded-2xl p-4 shadow-sm transition-all duration-300 hover:shadow-xl";let j=`/product/${A.slug}`;F[20]!==A.main_image?(s=(0,l.getImageUrl)(A.main_image),F[20]=A.main_image,F[21]=s):s=F[21],F[22]!==A.name||F[23]!==s?(t=(0,a.jsx)(i.default,{src:s,alt:A.name,fill:!0,className:"object-contain p-4 group-hover:scale-105 transition-transform duration-300",sizes:"(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 25vw",unoptimized:!0}),F[22]=A.name,F[23]=s,F[24]=t):t=F[24],F[25]!==A.discount_percentage?(n=A.discount_percentage>0&&(0,a.jsxs)("span",{className:"px-2 py-0.5 bg-red-500 text-white text-xs font-medium rounded",children:["-",A.discount_percentage,"%"]}),F[25]=A.discount_percentage,F[26]=n):n=F[26],F[27]!==n?(c=(0,a.jsx)("div",{className:"absolute top-2 left-2 flex flex-col gap-1",children:n}),F[27]=n,F[28]=c):c=F[28],F[29]!==t||F[30]!==c?(u=(0,a.jsxs)("div",{className:"relative aspect-square bg-gray-50 rounded-xl overflow-hidden mb-4",children:[t,c]}),F[29]=t,F[30]=c,F[31]=u):u=F[31],F[32]!==u||F[33]!==j?(y=(0,a.jsx)(r.default,{href:j,className:"block relative",children:u}),F[32]=u,F[33]=j,F[34]=y):y=F[34],o="space-y-3",F[35]!==A.category_name?(m=A.category_name&&(0,a.jsx)("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:A.category_name}),F[35]=A.category_name,F[36]=m):m=F[36];let N=`/product/${A.slug}`;F[37]!==A.name?(f=(0,a.jsx)("h3",{className:"font-medium text-gray-900 line-clamp-2 min-h-[2.5rem] hover:text-primary-600 transition-colors",children:A.name}),F[37]=A.name,F[38]=f):f=F[38],F[39]!==N||F[40]!==f?(x=(0,a.jsx)(r.default,{href:N,children:f}),F[39]=N,F[40]=f,F[41]=x):x=F[41],p=Object.keys(b).length>0&&(0,a.jsx)("div",{className:"space-y-2",children:Object.entries(b).filter(h).map(e=>{let[s,t]=e;return(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"flex flex-wrap gap-1.5",children:[t.slice(0,3).map(e=>(0,a.jsx)("button",{onClick:()=>{var a;return a=e.id,void R(e=>({...e,[s]:a}))},className:(0,l.cn)("px-2 py-1 text-xs border rounded-md transition-all",M[s]===e.id?"border-primary-600 bg-primary-50 text-primary-700":"border-gray-200 text-gray-600 hover:border-gray-300"),children:e.value},e.id)),t.length>3&&(0,a.jsxs)("span",{className:"px-2 py-1 text-xs text-gray-400",children:["+",t.length-3]})]})},s)})}),F[1]=z,F[2]=A.category_name,F[3]=A.discount_percentage,F[4]=A.id,F[5]=A.main_image,F[6]=A.name,F[7]=A.slug,F[8]=A.variations_summary,F[9]=M,F[10]=d,F[11]=o,F[12]=m,F[13]=x,F[14]=p,F[15]=g,F[16]=y}else d=F[10],o=F[11],m=F[12],x=F[13],p=F[14],g=F[15],y=F[16];F[42]!==A.current_price?(f=(0,l.formatPrice)(A.current_price),F[42]=A.current_price,F[43]=f):f=F[43],F[44]!==f?(b=(0,a.jsx)("span",{className:"text-lg font-bold text-accent",children:f}),F[44]=f,F[45]=b):b=F[45],F[46]!==A.base_price||F[47]!==A.sale_price?(j=A.sale_price&&A.base_price>A.sale_price&&(0,a.jsx)("span",{className:"text-sm text-gray-400 line-through",children:(0,l.formatPrice)(A.base_price)}),F[46]=A.base_price,F[47]=A.sale_price,F[48]=j):j=F[48],F[49]!==j||F[50]!==b?(N=(0,a.jsxs)("div",{className:"flex items-baseline gap-2",children:[b,j]}),F[49]=j,F[50]=b,F[51]=N):N=F[51];let D=L||!A.is_in_stock,K=A.is_in_stock?"bg-accent text-white hover:bg-accent-dark active:scale-[0.98]":"bg-gray-100 text-gray-400 cursor-not-allowed";F[52]!==K?(v=(0,l.cn)("w-full py-3 rounded-full font-medium text-sm transition-all",K),F[52]=K,F[53]=v):v=F[53];let V=L?"Adding...":A.is_in_stock?"Buy Cash":"Out of Stock";return F[54]!==d||F[55]!==D||F[56]!==v||F[57]!==V?(_=(0,a.jsx)("button",{onClick:d,disabled:D,className:v,children:V}),F[54]=d,F[55]=D,F[56]=v,F[57]=V,F[58]=_):_=F[58],F[59]!==A.allow_financing||F[60]!==A.is_in_stock?(w=A.allow_financing&&A.is_in_stock&&(0,a.jsx)("button",{onClick:()=>I(!0),className:"w-full py-3 rounded-full font-medium text-sm border-2 border-gray-200 text-gray-700 hover:border-primary-600 hover:text-primary-600 transition-all active:scale-[0.98]",children:"Select Financing"}),F[59]=A.allow_financing,F[60]=A.is_in_stock,F[61]=w):w=F[61],F[62]!==_||F[63]!==w?(k=(0,a.jsxs)("div",{className:"space-y-2 pt-2",children:[_,w]}),F[62]=_,F[63]=w,F[64]=k):k=F[64],F[65]!==N||F[66]!==k||F[67]!==o||F[68]!==m||F[69]!==x||F[70]!==p?(C=(0,a.jsxs)("div",{className:o,children:[m,x,p,N,k]}),F[65]=N,F[66]=k,F[67]=o,F[68]=m,F[69]=x,F[70]=p,F[71]=C):C=F[71],F[72]!==B?(S=B&&(0,a.jsxs)("div",{className:"fixed bottom-4 right-4 bg-green-600 text-white px-6 py-3 rounded-lg shadow-lg z-50 animate-in slide-in-from-bottom fade-in duration-300",children:[(0,a.jsx)("p",{className:"font-medium",children:"Added to cart!"}),(0,a.jsx)(r.default,{href:"/cart",className:"text-sm underline",children:"View Cart"})]}),F[72]=B,F[73]=S):S=F[73],F[74]!==C||F[75]!==S||F[76]!==g||F[77]!==y?(P=(0,a.jsxs)("div",{className:g,children:[y,C,S]}),F[74]=C,F[75]=S,F[76]=g,F[77]=y,F[78]=P):P=F[78],F[79]===Symbol.for("react.memo_cache_sentinel")?(q=()=>I(!1),F[79]=q):q=F[79],F[80]!==T||F[81]!==A?($=(0,a.jsx)(u,{isOpen:T,onClose:q,product:A}),F[80]=T,F[81]=A,F[82]=$):$=F[82],F[83]!==P||F[84]!==$?(O=(0,a.jsxs)(a.Fragment,{children:[P,$]}),F[83]=P,F[84]=$,F[85]=O):O=F[85],O}function h(e){let[a]=e;return"color"!==a.toLowerCase()}e.s(["default",()=>u],69570),e.s(["default",()=>p],42129)},98919,e=>{"use strict";let a=(0,e.i(75254).default)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);e.s(["Shield",()=>a],98919)},73923,e=>{"use strict";var a=e.i(43476),s=e.i(71645),t=e.i(18566),r=e.i(57688),i=e.i(22016),l=e.i(63059),n=e.i(99023),c=e.i(7233),d=e.i(43531),o=e.i(98919);let m=(0,e.i(75254).default)("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);var x=e.i(9666),u=e.i(9165),p=e.i(75157),h=e.i(69570),g=e.i(42129);function y(){let e,y=(0,t.useParams)().slug,[f,b]=(0,s.useState)(null),[j,N]=(0,s.useState)([]),[v,_]=(0,s.useState)(!0),[w,k]=(0,s.useState)(0),[C,S]=(0,s.useState)(null),[P,q]=(0,s.useState)({}),[$,O]=(0,s.useState)(1),[F,A]=(0,s.useState)(!1),[z,M]=(0,s.useState)(!1),[R,T]=(0,s.useState)(!1),[I,L]=(0,s.useState)("description"),{addToCart:E}=(0,x.useCartStore)();(0,s.useEffect)(()=>{let e=async()=>{_(!0);try{let e=await u.api.get(`/store/products/${y}/`);b(e.data);let a=e.data.category?.id||e.data.category;if(a){let s=e.data.category?.slug,t=await u.api.get(`/store/products/?${s?`category__slug=${s}`:`category=${a}`}&ordering=base_price`),r=(t.data.results||t.data||[]).filter(a=>a.id!==e.data.id).slice(0,4);N(r)}}catch(e){console.error("Error fetching product:",e)}finally{_(!1)}};y&&e()},[y]),(0,s.useEffect)(()=>{f?.variations?.length&&S(f.variations.find(e=>e.attribute_values.every(e=>P[e.attribute_name]===e.id))||null)},[P,f]);let B=(e,a)=>{q(s=>({...s,[e]:a}))},U=async()=>{f&&(M(!0),(await E(f.id,C?.id,$)).success&&(T(!0),setTimeout(()=>T(!1),3e3)),M(!1))},D=C?.price||f?.current_price||0,K=f?.base_price||0,V=f?.sale_price&&K>f.sale_price,Y=(e=[],f?.main_image&&e.push({id:0,image:f.main_image,alt_text:f.name,is_primary:!0,order:0}),f?.images?.length&&f.images.forEach((a,s)=>{a.image!==f.main_image&&e.push({...a,id:a.id||s+1,order:s+1})}),e.length>0?e:[{id:0,image:"",alt_text:f?.name||"",is_primary:!0,order:0}]),W=C?C.stock_quantity>0:f?.is_in_stock??!1;return v?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 py-12",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[(0,a.jsx)("div",{className:"bg-gray-100 rounded-2xl h-[500px] animate-pulse"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"bg-gray-100 h-8 w-3/4 rounded animate-pulse"}),(0,a.jsx)("div",{className:"bg-gray-100 h-12 w-1/2 rounded animate-pulse"}),(0,a.jsx)("div",{className:"bg-gray-100 h-32 rounded animate-pulse"})]})]})})}):f?(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("div",{className:"bg-white border-b",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,a.jsxs)("nav",{className:"flex items-center text-sm text-gray-500",children:[(0,a.jsx)(i.default,{href:"/",className:"hover:text-gray-700",children:"Home"}),(0,a.jsx)(l.ChevronRight,{className:"h-4 w-4 mx-2"}),(0,a.jsx)(i.default,{href:"/shop",className:"hover:text-gray-700",children:"Shop"}),f.category_name&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.ChevronRight,{className:"h-4 w-4 mx-2"}),(0,a.jsx)(i.default,{href:`/shop?category=${"object"==typeof f.category?f.category.slug:""}`,className:"hover:text-gray-700",children:f.category_name})]}),(0,a.jsx)(l.ChevronRight,{className:"h-4 w-4 mx-2"}),(0,a.jsx)("span",{className:"text-gray-900 font-medium truncate max-w-[200px]",children:f.name})]})})}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"relative aspect-square bg-white rounded-2xl overflow-hidden",children:[(0,a.jsx)(r.default,{src:(0,p.getImageUrl)(Y[w]?.image||f.main_image),alt:Y[w]?.alt_text||f.name,fill:!0,className:"object-contain p-8",priority:!0,unoptimized:!0}),(0,a.jsx)("div",{className:"absolute top-4 left-4 flex flex-col gap-2",children:f.discount_percentage>0&&(0,a.jsxs)("span",{className:"px-3 py-1 bg-red-500 text-white text-sm font-medium rounded-full",children:["-",f.discount_percentage,"% OFF"]})})]}),(0,a.jsx)("div",{className:"flex gap-3 overflow-x-auto pb-2",children:Y.map((e,s)=>(0,a.jsx)("button",{onClick:()=>k(s),className:`relative w-20 h-20 flex-shrink-0 bg-white rounded-lg overflow-hidden border-2 transition-all ${w===s?"border-primary ring-2 ring-primary/20":"border-gray-200 hover:border-primary/50"}`,children:(0,a.jsx)(r.default,{src:(0,p.getImageUrl)(e.image),alt:e.alt_text||`${f.name} ${s+1}`,fill:!0,className:"object-contain p-2",unoptimized:!0})},e.id))})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[f.brand_name&&(0,a.jsx)("p",{className:"text-sm text-gray-500 uppercase tracking-wide font-medium",children:f.brand_name}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:f.name}),(0,a.jsxs)("div",{className:"flex items-baseline gap-3",children:[(0,a.jsx)("span",{className:"text-3xl font-bold text-accent",children:(0,p.formatPrice)(D)}),V&&(0,a.jsx)("span",{className:"text-xl text-gray-400 line-through",children:(0,p.formatPrice)(K)})]}),f.short_description&&(0,a.jsx)("div",{className:"text-gray-600 leading-relaxed",children:(0,a.jsx)("ul",{className:"space-y-1.5",children:f.short_description.replace(/<[^>]*>/g,"").replace(/&amp;/g,"&").split(/[•·\n]/).map(e=>e.trim()).filter(e=>e.length>0).slice(0,6).map((e,s)=>(0,a.jsxs)("li",{className:"flex items-start gap-2 text-sm",children:[(0,a.jsx)("span",{className:"text-primary",children:"•"}),(0,a.jsx)("span",{children:e})]},s))})}),f.variations_summary&&Object.keys(f.variations_summary).length>0&&(0,a.jsx)("div",{className:"space-y-4 pt-4 border-t",children:Object.entries(f.variations_summary).map(([e,s])=>(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e,P[e]&&(0,a.jsxs)("span",{className:"text-gray-500 font-normal ml-2",children:["- ",s.find(a=>a.id===P[e])?.value]})]}),"color"===e.toLowerCase()?(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:s.map(s=>(0,a.jsx)("button",{onClick:()=>B(e,s.id),className:`w-10 h-10 rounded-full border-2 transition-all flex items-center justify-center ${P[e]===s.id?"border-primary ring-2 ring-primary ring-offset-2":"border-gray-200 hover:border-gray-300"}`,style:{backgroundColor:s.color_code||"#ccc"},title:s.value,children:P[e]===s.id&&(0,a.jsx)(d.Check,{className:`h-5 w-5 ${s.color_code?.toLowerCase()==="#ffffff"?"text-gray-800":"text-white"}`})},s.id))}):(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:s.map(s=>(0,a.jsx)("button",{onClick:()=>B(e,s.id),className:`px-4 py-2 border-2 rounded-lg text-sm font-medium transition-all ${P[e]===s.id?"border-primary bg-primary text-white":"border-gray-200 text-gray-700 hover:border-gray-300"}`,children:s.value},s.id))})]},e))}),(0,a.jsxs)("div",{className:"pt-4 border-t",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quantity"}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center border rounded-lg",children:[(0,a.jsx)("button",{onClick:()=>O(Math.max(1,$-1)),className:"p-3 hover:bg-gray-50 transition-colors",disabled:$<=1,children:(0,a.jsx)(n.Minus,{className:"h-4 w-4"})}),(0,a.jsx)("span",{className:"w-12 text-center font-medium",children:$}),(0,a.jsx)("button",{onClick:()=>O($+1),className:"p-3 hover:bg-gray-50 transition-colors",children:(0,a.jsx)(c.Plus,{className:"h-4 w-4"})})]}),(0,a.jsx)("span",{className:`text-sm ${W?"text-green-600":"text-red-500"}`,children:W?"In Stock":"Out of Stock"})]})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 pt-4",children:[(0,a.jsx)("button",{onClick:U,disabled:z||!W,className:`flex-1 py-4 rounded-full font-semibold text-lg transition-all ${W?"bg-accent text-white hover:bg-accent-dark":"bg-gray-200 text-gray-500 cursor-not-allowed"}`,children:z?"Adding...":W?"Buy Cash":"Out of Stock"}),f.allow_financing&&W&&(0,a.jsx)("button",{onClick:()=>A(!0),className:"flex-1 py-4 rounded-full font-semibold text-lg border-2 border-gray-300 text-gray-700 hover:border-primary hover:text-primary transition-all",children:"Select Financing"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 pt-6 border-t",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(o.Shield,{className:"h-8 w-8 mx-auto text-primary mb-2"}),(0,a.jsx)("p",{className:"text-xs text-gray-600",children:"Warranty Available on All Products"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(m,{className:"h-8 w-8 mx-auto text-primary mb-2"}),(0,a.jsx)("p",{className:"text-xs text-gray-600",children:"Fast Delivery"})]})]})]})]}),(0,a.jsxs)("div",{className:"mt-16",children:[(0,a.jsx)("div",{className:"border-b",children:(0,a.jsx)("nav",{className:"flex gap-8",children:[{id:"description",label:"Description"},{id:"specifications",label:"Specifications"},{id:"reviews",label:"Reviews"}].map(e=>(0,a.jsx)("button",{onClick:()=>L(e.id),className:`py-4 px-2 border-b-2 font-medium transition-colors ${I===e.id?"border-primary text-primary":"border-transparent text-gray-500 hover:text-gray-700"}`,children:e.label},e.id))})}),(0,a.jsxs)("div",{className:"py-8",children:["description"===I&&(0,a.jsx)("div",{className:"bg-white rounded-xl p-6",children:f.description?(0,a.jsx)("ul",{className:"space-y-2",children:f.description.replace(/<[^>]*>/g,"").split(/[•·\n]/).map(e=>e.trim()).filter(e=>e.length>0).map((e,s)=>(0,a.jsxs)("li",{className:"flex items-start gap-3 text-gray-600",children:[(0,a.jsx)("span",{className:"text-primary mt-1.5",children:"•"}),(0,a.jsx)("span",{children:e})]},s))}):(0,a.jsx)("p",{className:"text-gray-500",children:"No description available."})}),"specifications"===I&&(0,a.jsx)("div",{className:"bg-white rounded-xl p-6",children:f.attributes&&f.attributes.length>0?(0,a.jsx)("table",{className:"w-full",children:(0,a.jsx)("tbody",{children:f.attributes.map((e,s)=>(0,a.jsxs)("tr",{className:s%2==0?"bg-gray-50":"",children:[(0,a.jsx)("td",{className:"py-3 px-4 font-medium text-gray-700",children:e.attribute_name}),(0,a.jsx)("td",{className:"py-3 px-4 text-gray-600",children:e.value})]},e.id))})}):(0,a.jsx)("p",{className:"text-gray-500",children:"No specifications available."})}),"reviews"===I&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("p",{className:"text-gray-500 mb-4",children:"No reviews yet."}),(0,a.jsx)("button",{className:"text-primary font-medium hover:underline",children:"Be the first to review this product"})]})]})]}),j.length>0&&(0,a.jsxs)("div",{className:"mt-16",children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 mb-8",children:["More ",f.category_name?`${f.category_name} `:"","Products"]}),(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:j.map(e=>(0,a.jsx)(g.default,{product:e},e.id))})]})]}),R&&(0,a.jsxs)("div",{className:"fixed bottom-4 right-4 bg-green-600 text-white px-6 py-3 rounded-lg shadow-lg z-50 animate-in slide-in-from-bottom fade-in duration-300",children:[(0,a.jsx)("p",{className:"font-medium",children:"Added to cart!"}),(0,a.jsx)(i.default,{href:"/cart",className:"text-sm underline",children:"View Cart"})]}),(0,a.jsx)(h.default,{isOpen:F,onClose:()=>A(!1),product:f,variationId:C?.id})]}):(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Product not found"}),(0,a.jsx)(i.default,{href:"/shop",className:"text-primary hover:underline",children:"Back to Shop"})]})})}e.s(["default",()=>y],73923)}]);